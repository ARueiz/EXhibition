
@{
    ViewBag.Title = "EventList";
}


@section styles{
    <style>
        .imgBox {
            position: relative;
            text-align: left;
            color: white;
        }
    </style>
}

<!-- !PAGE CONTENT! -->
<div class="container-fluid m8" id="contain">

    <nav aria-label="breadcrumb" class="m-4">
        <ol class="breadcrumb">
            <li class="breadcrumb-item"><a href="#">首頁</a></li>
            <li class="breadcrumb-item active" aria-current="page">展覽列表</li>
        </ol>
    </nav>

    <div class="row">
        <main>
            <h3 class="w3-margin">展覽列表</h3>
            <!-- <h3 class="w3-margin">展覽列表</h3> -->
            <div class="w3-row-padding pt-4">
                <!-- exhibition list start -->
                <div class="w3-third w3-container mb-5 " v-for="element in exhibitionList">
                    <div class="imgBox">
                        <img :src="element.image" alt="Norway" style="width:100%;height: 200px " class="">
                    </div>
                    <div class="w3-container w3-white mt-3">
                        <h3 class="" style="text-overflow: ellipsis; overflow: hidden; white-space: nowrap;">{{ element.name }}</h3>
                        <p>
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                                 class="bi bi-calendar3" viewBox="0 0 16 16">
                                <path d="M14 0H2a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2zM1 3.857C1 3.384 1.448 3 2 3h12c.552 0 1 .384 1 .857v10.286c0 .473-.448.857-1 .857H2c-.552 0-1-.384-1-.857V3.857z" />
                                <path d="M6.5 7a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm3 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm3 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm-9 3a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm3 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm3 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm3 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm-9 3a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm3 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm3 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2z" />
                            </svg>
                            {{ element.startdate }} ~ {{ element.enddate }}
                        </p>
                        <p style="height: 30px;text-overflow: ellipsis; overflow: hidden; white-space: nowrap;">
                            {{ element.eventinfo }}
                        </p>
                        <a :href="`/Host/EventDetail/?evid=${element.evid}`" class="w3-button w3-black">更多資訊 or 購票</a>
                    </div>
                </div>
                <!-- exhibition list end -->

            </div>
        </main>
    </div>
</div>


<script>
    new Vue({
        el: '#contain',
        data() {
            return {
                exhibitionList: [],
                selectType: [],
                pageNum: 0
            }
        },
        created: function () {
            this.getEvent();
        },
        methods: {
            getEvent() {
                const self = this;
                axios.post('@Url.Content("~/HostApi/GetEventList/")' + self.pageNum)
                    .then(function (response) {
                        return response.data
                    }).then(function (response) {
                        self.exhibitionList = response
                        self.arrayFilter()
                    })
            },
            arrayFilter() {
                for (var i = 0; i < this.exhibitionList.length; i++) {
                    let item = this.exhibitionList[i]
                    item.startdate = item.startdate.slice(0, 10);
                    item.enddate = item.enddate.slice(0, 10);
                }
            }

        },

        // .toISOString().split('T')[0]
    })
</script>

